easyblock = 'GoPackage'

name = 'git-lfs-s3'
version = '0.2.1-20251029'
_commit = '5bf8ef427a6dd3e9663a747ded7b38e6e551d13b'

homepage = 'https://github.com/nicolas-graves/lfs-s3'
description = """Custom transfer agent for Git Large File Storage (LFS) which simply sends LFS
binary files to an S3 bucket."""

toolchain = SYSTEM

source_urls = ['https://github.com/nicolas-graves/lfs-s3/archive/']
sources = [{'download_filename': f'{_commit}.tar.gz', 'filename': SOURCE_TAR_GZ}]
checksums = ['d9e0e31ccc03f9b94c740f823caae8065c7813cccdff5248f4435c25e6e2174e']

builddependencies = [
    ('Go', '1.25.3'),
]

dependencies = [
    ('git-lfs', '3.7.1'),
]

sanity_check_paths = {
    'files': ['bin/lfs-s3'],
    'dirs': [],
}

sanity_check_commands = ["lfs-s3 -h"]

moduleclass = 'tools'
